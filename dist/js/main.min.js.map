{"version":3,"sources":["main.min.js","main.js","customers/script.js","main-fs/script.js","consultation/script.js","our-works/script.js","services/script.js","statistic/script.js","snippets/footer/script.js","snippets/header/script.js"],"names":["document","addEventListener","event","window","_animate","draw","animate","options","start","performance","now","requestAnimationFrame","time","timeFraction","duration","progress","timing","makeEaseInOut","quad","Math","pow","arguments","length","undefined","customersParent","querySelector","userpicParent","header","Flickity","initialIndex","pageDots","cellSelector","percentPosition","arrowShape","x0","x1","y1","x2","y2","x3","asNavFor","prevNextButtons","draggable","Numbered","placeholder","button","block","getAttribute","handleClick","e","preventDefault","currentScroll","pageYOffset","documentElement","scrollTop","body","top","clientTop","getBoundingClientRect","height","offset","scrollTo","id","getElementById","lightGallery","selector","buttons","querySelectorAll","titleArr","textArr","popup","closeButton","popupTitle","popupText","_loop","i","innerText","classList","add","closeModal","stopPropagation","target","remove","countItemsBlock","countItems","counts","push","animateCounts","itemBlockRect","bottom","screen","removeEventListener","parseInt","init","myMap","ymaps","Map","center","zoom","behaviors","controls","MyBalloonLayout","templateLayoutFactory","createClass","build","this","constructor","superclass","call","element","getParentElement","applyElementOffset","onSublayoutSizeChange","apply","events","fire","style","offsetHeight","getShape","position","left","offsetLeft","offsetTop","shape","Rectangle","geometry","pixel","myPlacemark","Placemark","balloonShadow","balloonLayout","hideIconOnBalloonOpen","searchControl","get","set","location","geolocation","mapStateAutoApply","provider","then","result","userAddress","geoObjects","properties","balloonContentBody","control","routePanel","state","from","to","multiRoutePromise","getRouteAsync","multiRoute","routeActiveStrokeColor","routeActiveStrokeWidth","err","console","log","balloon","open","ready","menuButton","menuIcon","nav","toggleActive","toggle","changeHeaderBackground","scrollY","backgroundColor"],"mappings":"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","file":"main.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function(event) {\"use strict\";\n\nwindow._animate = function (draw) {\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 750;\n  animate({\n    duration: duration,\n    timing: makeEaseInOut(quad),\n    draw: draw\n  });\n\n  function animate(options) {\n    var start = performance.now();\n    requestAnimationFrame(function animate(time) {\n      var timeFraction = (time - start) / options.duration;\n      if (timeFraction > 1) timeFraction = 1;\n      var progress = options.timing(timeFraction);\n      options.draw(progress);\n\n      if (timeFraction < 1) {\n        requestAnimationFrame(animate);\n      }\n    });\n  }\n\n  function makeEaseInOut(timing) {\n    return function (timeFraction) {\n      if (timeFraction < .5) {\n        return timing(2 * timeFraction) / 2;\n      } else {\n        return (2 - timing(2 * (1 - timeFraction))) / 2;\n      }\n    };\n  }\n\n  function quad(progress) {\n    return Math.pow(progress, 2);\n  }\n};\n\"use strict\";\n\nvar customersParent = document.querySelector(\".customers_text\");\nvar userpicParent = document.querySelector(\".customers_userpic\");\nvar flktyUserpic = new Flickity(userpicParent, {\n  initialIndex: 1,\n  pageDots: false,\n  cellSelector: \".customers_userpic-item\",\n  percentPosition: false,\n  arrowShape: {\n    x0: 0,\n    x1: 40,\n    y1: 50,\n    x2: 40,\n    y2: 45,\n    x3: 5\n  }\n});\nvar flktyText = new Flickity(customersParent, {\n  asNavFor: userpicParent,\n  prevNextButtons: false,\n  pageDots: false,\n  draggable: false\n});\n\"use strict\";\n\nvar numbered = new Numbered(\"#consultation_tel\", {\n  placeholder: true\n});\n\"use strict\";\n\nvar header = document.querySelector(\"header.header\");\nvar button = document.querySelector(\".first-screen_arrow\");\nvar block = document.querySelector(button.getAttribute(\"href\"));\n\nvar handleClick = function handleClick(e) {\n  e.preventDefault();\n  var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n  var top = document.documentElement.clientTop - currentScroll + header.getBoundingClientRect().height;\n  var offset = block.getBoundingClientRect().top - top;\n\n  window._animate(function (progress) {\n    window.scrollTo(0, currentScroll * (1 - progress) + progress * offset);\n  });\n};\n\nbutton.addEventListener(\"click\", handleClick);\nbutton.addEventListener(\"touchend\", handleClick);\n\"use strict\";\n\nvar id = document.getElementById(\"lightgallery\");\nlightGallery(id, {\n  selector: \".our-works_item \"\n});\n\"use strict\";\n\nvar buttons = document.querySelectorAll(\".services_item-more\");\nvar titleArr = document.querySelectorAll(\".services_item-title\");\nvar textArr = document.querySelectorAll(\".services_item-text\");\nvar popup = document.querySelector(\".services_popup\");\nvar closeButton = popup.querySelector(\"button\");\nvar popupTitle = popup.querySelector(\".services_popup-title\");\nvar popupText = popup.querySelector(\".services_popup-text\");\n\nvar _loop = function _loop(i) {\n  buttons[i].addEventListener(\"click\", function (e) {\n    popupTitle.innerText = titleArr[i].innerText;\n    popupText.innerText = textArr[i].innerText;\n    popup.classList.add(\"active\");\n    document.querySelector(\"html\").classList.add(\"active\");\n  });\n};\n\nfor (var i = 0; i < buttons.length; i++) {\n  _loop(i);\n}\n\nvar closeModal = function closeModal(e) {\n  e.stopPropagation();\n  e.preventDefault();\n\n  if (e.target === closeButton || e.target === popup) {\n    popup.classList.remove(\"active\");\n    document.querySelector(\"html\").classList.remove(\"active\");\n  }\n};\n\npopup.addEventListener(\"click\", closeModal);\n\"use strict\";\n\nvar countItemsBlock = document.querySelector(\"section.statistic\");\nvar countItems = countItemsBlock.querySelectorAll(\".statistic_item-count\");\nvar counts = [];\n\nfor (var i = 0; i < countItems.length; i++) {\n  counts.push(countItems[i].innerText);\n  countItems[i].innerText = \"0\";\n}\n\nvar animateCounts = function animateCounts() {\n  var itemBlockRect = countItemsBlock.getBoundingClientRect();\n\n  if (itemBlockRect.bottom <= window.screen.height + itemBlockRect.height * .5 && itemBlockRect.bottom >= itemBlockRect.height * .5) {\n    window.removeEventListener(\"scroll\", animateCounts);\n\n    window._animate(function (progress) {\n      for (var _i = 0; _i < countItems.length; _i++) {\n        countItems[_i].innerText = parseInt(progress * counts[_i]);\n      }\n    });\n  }\n};\n\nwindow.addEventListener(\"scroll\", animateCounts);\n\"use strict\";\n\nwindow.addEventListener(\"load\", function (e) {\n  ymaps.ready(init);\n\n  function init() {\n    // Создание экземпляра карты и его привязка к созданному контейнеру.\n    var myMap = new ymaps.Map(\"footer_yandex-map\", {\n      center: [52.789066, 41.351899],\n      zoom: 11,\n      behaviors: ['default', 'scrollZoom'],\n      controls: ['searchControl']\n    }); // Создание пользовательского балуна\n\n    var MyBalloonLayout = ymaps.templateLayoutFactory.createClass('<div class=\"footer_map\">' + '<div class=\"footer_map-title\">' + 'ДоброДом | Строительство домов на УШП УФФ Тамбов' + '</div>' + '<div class=\"footer_map-contacts\">' + 'Город Тамбов <br>' + 'Телефон: 64-00-45 <br>' + 'E-mail: <a href=\"mailto:dobrodom68@gmail.com\">dobrodom68@gmail.com</a>' + '</div>' + '</div>', {\n      build: function build() {\n        this.constructor.superclass.build.call(this);\n        this.element = this.getParentElement(document.querySelector('.footer_map'));\n        this.applyElementOffset();\n      },\n      onSublayoutSizeChange: function onSublayoutSizeChange() {\n        MyBalloonLayout.superclass.onSublayoutSizeChange.apply(this, arguments);\n        this.applyElementOffset();\n        this.events.fire('shapechange');\n      },\n      applyElementOffset: function applyElementOffset() {\n        this.element.querySelector(\".footer_map\").style.top = -this.element.querySelector(\".footer_map\").offsetHeight - 20 + \"px\";\n      },\n      getShape: function getShape() {\n        var position = {\n          left: this.element.offsetLeft,\n          top: this.element.offsetTop\n        };\n        return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[position.left, position.top], [position.left, position.top - 500]]));\n      }\n    }); // Создание метки с пользовательским макетом балуна.\n\n    var myPlacemark = window.myPlacemark = new ymaps.Placemark([52.779979, 41.378292], {}, {\n      balloonShadow: false,\n      balloonLayout: MyBalloonLayout,\n      hideIconOnBalloonOpen: true\n    }); // Добавление placeholder в поисковую строку\n\n    var searchControl = myMap.controls.get('searchControl');\n    searchControl.options.set('placeholderContent', 'Тамбов, Мичуринская улица, 277'); // Получение местоположения, автоматическое отображение его на карте и добавление маршрута.\n\n    var location = ymaps.geolocation;\n    location.get({\n      mapStateAutoApply: false,\n      provider: \"browser\"\n    }).then(function (result) {\n      var userAddress = result.geoObjects.get(0).properties.get('text');\n      result.geoObjects.get(0).properties.set({\n        balloonContentBody: \"\"\n      });\n      myMap.geoObjects.add(result.geoObjects);\n      myMap.controls.remove('searchControl');\n      myMap.controls.add('routePanelControl');\n      var control = myMap.controls.get('routePanelControl');\n      control.routePanel.state.set({\n        from: userAddress,\n        to: 'Тамбов, Мичуринская улица, 277'\n      }); //Задание пользовательского цвета маршрута\n\n      var multiRoutePromise = control.routePanel.getRouteAsync();\n      multiRoutePromise.then(function (multiRoute) {\n        multiRoute.options.set({\n          routeActiveStrokeColor: \"2b2a29\",\n          routeActiveStrokeWidth: 8\n        });\n      }, function (err) {\n        console.log(err);\n      });\n    }, function (err) {\n      console.log('Ошибка: ' + err);\n    });\n    myMap.geoObjects.add(myPlacemark);\n    myPlacemark.balloon.open();\n  }\n\n  ;\n});\n\"use strict\";\n\nvar header = document.querySelector(\"header.header\");\nvar buttons = document.querySelectorAll(\"header a\");\nvar menuButton = document.querySelector(\".header_menu-button\");\nvar menuIcon = document.querySelector(\".header_menu-icon\");\nvar nav = document.querySelector(\"nav\");\n\nvar toggleActive = function toggleActive() {\n  nav.classList.toggle(\"active\");\n  menuIcon.classList.toggle(\"active\");\n};\n\nvar handleClick = function handleClick(e) {\n  e.preventDefault();\n  var block = document.querySelector(e.target.getAttribute(\"href\"));\n  var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n  var top = document.documentElement.clientTop - currentScroll + header.getBoundingClientRect().height;\n  var offset = block.getBoundingClientRect().top - top;\n\n  window._animate(function (progress) {\n    window.scrollTo(0, currentScroll * (1 - progress) + progress * offset);\n  });\n};\n\nvar changeHeaderBackground = function changeHeaderBackground() {\n  if (scrollY > 0) {\n    header.style.backgroundColor = \"#2b2a29\";\n  } else {\n    header.style.backgroundColor = \"transparent\";\n  }\n};\n\nchangeHeaderBackground();\n\nfor (var i = 0; i < buttons.length; i++) {\n  buttons[i].addEventListener(\"click\", handleClick, false);\n  buttons[i].addEventListener(\"click\", toggleActive, false);\n}\n\nmenuButton.addEventListener(\"click\", toggleActive, false);\nwindow.addEventListener(\"scroll\", changeHeaderBackground, false);})","window._animate = (draw, duration = 750) => {\r\n    animate({\r\n        duration,\r\n        timing: makeEaseInOut(quad),\r\n        draw\r\n    });\r\n    \r\n    function animate(options) {\r\n        var start = performance.now();\r\n        requestAnimationFrame(function animate(time) {\r\n\r\n            var timeFraction = (time - start) / options.duration;\r\n            if (timeFraction > 1) timeFraction = 1\r\n\r\n            var progress = options.timing(timeFraction)\r\n            options.draw(progress);\r\n        \r\n            if (timeFraction < 1) {\r\n                requestAnimationFrame(animate);\r\n            }\r\n    \r\n        });\r\n    }\r\n\r\n    function makeEaseInOut(timing) {\r\n        return function(timeFraction) {\r\n            if (timeFraction < .5) {\r\n                return timing(2 * timeFraction) / 2;\r\n            } else {\r\n                return (2 - timing(2 * (1 - timeFraction))) / 2;\r\n            }\r\n        }\r\n    }\r\n    \r\n    function quad(progress) {\r\n        return Math.pow(progress, 2)\r\n    }\r\n}","const customersParent = document.querySelector(\".customers_text\");\r\nconst userpicParent = document.querySelector(\".customers_userpic\");\r\n\r\nconst flktyUserpic = new Flickity (userpicParent, {\r\n    initialIndex: 1,\r\n    pageDots: false,\r\n    cellSelector: \".customers_userpic-item\",\r\n    percentPosition: false,\r\n    arrowShape: { \r\n        x0: 0,\r\n        x1: 40, y1: 50,\r\n        x2: 40, y2: 45,\r\n        x3: 5\r\n      }\r\n})\r\n\r\nconst flktyText = new Flickity (customersParent, {\r\n    asNavFor: userpicParent,\r\n    prevNextButtons: false,\r\n    pageDots: false,\r\n    draggable: false\r\n})","const header = document.querySelector(\"header.header\");\r\nconst button = document.querySelector(\".first-screen_arrow\");\r\nconst block = document.querySelector(button.getAttribute(\"href\"));\r\n\r\nconst handleClick = e => {\r\n    e.preventDefault();\r\n\r\n    const currentScroll = (window.pageYOffset ||  document.documentElement.scrollTop || document.body.scrollTop || 0);\r\n    const top =  document.documentElement.clientTop - currentScroll + header.getBoundingClientRect().height;\r\n    const offset = block.getBoundingClientRect().top - top;\r\n\r\n    window._animate(progress => {\r\n        window.scrollTo(0, (currentScroll * (1 - progress)) + (progress * offset));\r\n    });\r\n}\r\n\r\nbutton.addEventListener(\"click\", handleClick);\r\nbutton.addEventListener(\"touchend\", handleClick);","const numbered = new Numbered(\"#consultation_tel\", { \r\n    placeholder: true\r\n})","const id = document.getElementById(\"lightgallery\")\r\nlightGallery(id, {\r\n    selector: \".our-works_item \"\r\n})","const buttons = document.querySelectorAll(\".services_item-more\");\r\nconst titleArr = document.querySelectorAll(\".services_item-title\");\r\nconst textArr = document.querySelectorAll(\".services_item-text\");\r\nconst popup = document.querySelector(\".services_popup\");\r\nconst closeButton = popup.querySelector(\"button\");\r\n\r\nlet popupTitle = popup.querySelector(\".services_popup-title\");\r\nlet popupText = popup.querySelector(\".services_popup-text\");\r\n\r\nfor (let i = 0; i < buttons.length; i++) {\r\n    buttons[i].addEventListener(\"click\", e => {\r\n        popupTitle.innerText = titleArr[i].innerText;\r\n        popupText.innerText = textArr[i].innerText;\r\n        popup.classList.add(\"active\");\r\n        document.querySelector(\"html\").classList.add(\"active\");\r\n    })\r\n}\r\n\r\nconst closeModal = e => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    if (e.target === closeButton || e.target === popup) {\r\n        popup.classList.remove(\"active\");\r\n        document.querySelector(\"html\").classList.remove(\"active\");\r\n    }\r\n}\r\n\r\npopup.addEventListener(\"click\", closeModal);","\r\nconst countItemsBlock = document.querySelector(\"section.statistic\");\r\nconst countItems = countItemsBlock.querySelectorAll(\".statistic_item-count\");\r\n\r\nlet counts = [];\r\n\r\nfor (let i = 0; i < countItems.length; i++) {\r\n    counts.push(countItems[i].innerText);\r\n    countItems[i].innerText = \"0\";\r\n}\r\n\r\nconst animateCounts = () => {\r\n    let itemBlockRect = countItemsBlock.getBoundingClientRect();\r\n    if (itemBlockRect.bottom <= window.screen.height + itemBlockRect.height * .5 && itemBlockRect.bottom >= itemBlockRect.height * .5) {\r\n        window.removeEventListener(\"scroll\", animateCounts)\r\n        window._animate(function(progress) {\r\n            for (let i = 0; i < countItems.length; i++) {\r\n                countItems[i].innerText = parseInt(progress * counts[i]);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nwindow.addEventListener(\"scroll\", animateCounts);","window.addEventListener(\"load\", e => {\r\n    ymaps.ready(init);\r\n    function init() {\r\n        // Создание экземпляра карты и его привязка к созданному контейнеру.\r\n        const myMap = new ymaps.Map(\"footer_yandex-map\", {\r\n            center: [52.789066, 41.351899],\r\n            zoom: 11,\r\n            behaviors: ['default', 'scrollZoom'],\r\n            controls: ['searchControl']\r\n        });\r\n        // Создание пользовательского балуна\r\n        const MyBalloonLayout = ymaps.templateLayoutFactory.createClass(\r\n            '<div class=\"footer_map\">' +\r\n                '<div class=\"footer_map-title\">' +\r\n                    'ДоброДом | Строительство домов на УШП УФФ Тамбов' +\r\n                '</div>' +\r\n                '<div class=\"footer_map-contacts\">' +\r\n                    'Город Тамбов <br>' +\r\n                    'Телефон: 64-00-45 <br>' +\r\n                    'E-mail: <a href=\"mailto:dobrodom68@gmail.com\">dobrodom68@gmail.com</a>' + \r\n                '</div>' +\r\n            '</div>', {\r\n            build: function () {\r\n                this.constructor.superclass.build.call(this);\r\n                this.element = this.getParentElement(document.querySelector('.footer_map'));\r\n                this.applyElementOffset();\r\n            },\r\n            onSublayoutSizeChange: function () {\r\n                MyBalloonLayout.superclass.onSublayoutSizeChange.apply(this, arguments);\r\n                this.applyElementOffset();\r\n                this.events.fire('shapechange');\r\n            },\r\n            applyElementOffset: function () {\r\n                this.element.querySelector(\".footer_map\").style.top = -this.element.querySelector(\".footer_map\").offsetHeight - 20 + \"px\";\r\n            },\r\n            getShape: function () {\r\n                var position = {left: this.element.offsetLeft, top: this.element.offsetTop};\r\n                return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([\r\n                    [position.left, position.top], [\r\n                        position.left,\r\n                        position.top - 500\r\n                    ]\r\n                ]));\r\n            },\r\n        });\r\n        // Создание метки с пользовательским макетом балуна.\r\n        const myPlacemark = window.myPlacemark = new ymaps.Placemark([52.779979, 41.378292], {\r\n        }, {\r\n            balloonShadow: false,\r\n            balloonLayout: MyBalloonLayout,\r\n            hideIconOnBalloonOpen: true\r\n        });\r\n\r\n        // Добавление placeholder в поисковую строку\r\n        const searchControl = myMap.controls.get('searchControl');\r\n\r\n        searchControl.options.set('placeholderContent', 'Тамбов, Мичуринская улица, 277');\r\n\r\n        // Получение местоположения, автоматическое отображение его на карте и добавление маршрута.\r\n        let location = ymaps.geolocation;\r\n\r\n        location.get({\r\n                mapStateAutoApply: false,\r\n                provider: \"browser\"\r\n            })\r\n        .then(\r\n            function(result) {\r\n                var userAddress = result.geoObjects.get(0).properties.get('text');\r\n\r\n                result.geoObjects.get(0).properties.set({\r\n                    balloonContentBody: \"\",\r\n                });\r\n                myMap.geoObjects.add(result.geoObjects)\r\n\r\n                myMap.controls.remove('searchControl');\r\n                myMap.controls.add('routePanelControl')\r\n                let control =  myMap.controls.get('routePanelControl')\r\n                control.routePanel.state.set({\r\n                    from: userAddress,\r\n                    to: 'Тамбов, Мичуринская улица, 277'\r\n                });\r\n\r\n                //Задание пользовательского цвета маршрута\r\n                const multiRoutePromise = control.routePanel.getRouteAsync();\r\n\r\n                multiRoutePromise.then(function(multiRoute) {\r\n                    multiRoute.options.set({\r\n                        routeActiveStrokeColor: \"2b2a29\",\r\n                        routeActiveStrokeWidth: 8,\r\n                    }); \r\n                }, function (err) {\r\n                    console.log(err); \r\n                });  \r\n\r\n            },\r\n            function(err) {\r\n                console.log('Ошибка: ' + err)\r\n            }\r\n        );\r\n        \r\n        myMap.geoObjects.add(myPlacemark);\r\n\r\n        myPlacemark.balloon.open();\r\n    };\r\n})","const header = document.querySelector(\"header.header\");\r\nconst buttons = document.querySelectorAll(\"header a\");\r\nconst menuButton = document.querySelector(\".header_menu-button\");\r\nconst menuIcon = document.querySelector(\".header_menu-icon\");\r\nconst nav = document.querySelector(\"nav\");\r\n\r\nconst toggleActive = () => {\r\n    nav.classList.toggle(\"active\");\r\n    menuIcon.classList.toggle(\"active\");\r\n}\r\n\r\nconst handleClick = e => {\r\n    e.preventDefault();\r\n\r\n    const block = document.querySelector(e.target.getAttribute(\"href\"));\r\n    const currentScroll = (window.pageYOffset ||  document.documentElement.scrollTop || document.body.scrollTop || 0);\r\n    const top =  document.documentElement.clientTop - currentScroll + header.getBoundingClientRect().height;\r\n    const offset = block.getBoundingClientRect().top - top;\r\n\r\n    window._animate(progress => {\r\n        window.scrollTo(0, (currentScroll * (1 - progress)) + (progress * offset));\r\n    });\r\n}\r\n\r\nconst changeHeaderBackground = () => {\r\n    if (scrollY > 0) {\r\n        header.style.backgroundColor = \"#2b2a29\";\r\n    } else {\r\n        header.style.backgroundColor = \"transparent\";\r\n    }\r\n}\r\n\r\nchangeHeaderBackground();\r\n\r\nfor (let i = 0; i < buttons.length; i++) {\r\n    buttons[i].addEventListener(\"click\", handleClick, false);\r\n    buttons[i].addEventListener(\"click\", toggleActive, false);\r\n}\r\n\r\nmenuButton.addEventListener(\"click\", toggleActive, false);\r\nwindow.addEventListener(\"scroll\", changeHeaderBackground, false);"]}