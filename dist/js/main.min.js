document.addEventListener("DOMContentLoaded",function(e){"use strict";window._animate=function(e){function t(e){var t=performance.now();requestAnimationFrame(function o(n){var r=(n-t)/e.duration;r>1&&(r=1);var c=e.timing(r);e.draw(c),r<1&&requestAnimationFrame(o)})}function o(e){return function(t){return t<.5?e(2*t)/2:(2-e(2*(1-t)))/2}}function n(e){return Math.pow(e,2)}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t({duration:r,timing:o(n),draw:e})};var t=(new Numbered("#consultation_tel",{placeholder:!0}),document.querySelector(".customers_text")),o=document.querySelector(".customers_userpic"),n=(new Flickity(o,{initialIndex:1,pageDots:!1,cellSelector:".customers_userpic-item",percentPosition:!1,arrowShape:{x0:0,x1:40,y1:50,x2:40,y2:45,x3:5}}),new Flickity(t,{asNavFor:o,prevNextButtons:!1,pageDots:!1,draggable:!1}),document.querySelector("header.header")),r=document.querySelector(".first-screen_arrow"),c=document.querySelector(r.getAttribute("href")),l=function(e){e.preventDefault();var t=document.documentElement.clientTop-(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)+n.getBoundingClientRect().height,o=c.getBoundingClientRect(),r=o.top-t;window._animate(function(e){window.scrollTo(0,(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)*(1-e)+e*r)})};r.addEventListener("click",l),r.addEventListener("touchend",l);var i=document.getElementById("lightgallery");lightGallery(i,{selector:".our-works_item "});for(var a=document.querySelectorAll(".services_item-more"),s=document.querySelectorAll(".services_item-title"),u=document.querySelectorAll(".services_item-text"),d=document.querySelector(".services_popup"),m=d.querySelector("button"),p=d.querySelector(".services_popup-title"),f=d.querySelector(".services_popup-text"),g=function(e){a[e].addEventListener("click",function(t){p.innerText=s[e].innerText,f.innerText=u[e].innerText,d.classList.add("active"),document.querySelector("html").classList.add("active")})},v=0;v<a.length;v++)g(v);var h=function(e){e.stopPropagation(),e.preventDefault(),e.target!==m&&e.target!==d||(d.classList.remove("active"),document.querySelector("html").classList.remove("active"))};d.addEventListener("click",h);for(var y=document.querySelector("section.statistic"),w=y.querySelectorAll(".statistic_item-count"),S=[],v=0;v<w.length;v++)S.push(w[v].innerText),w[v].innerText="0";var b=function T(){var e=y.getBoundingClientRect();e.bottom<=window.screen.height+.5*e.height&&e.bottom>=.5*e.height&&(window.removeEventListener("scroll",T),window._animate(function(e){for(var t=0;t<w.length;t++)w[t].innerText=parseInt(e*S[t])}))};window.addEventListener("scroll",b),window.addEventListener("load",function(e){function t(){var e=new ymaps.Map("footer_yandex-map",{center:[52.789066,41.351899],zoom:11,behaviors:["default","scrollZoom"],controls:["searchControl"]}),t=ymaps.templateLayoutFactory.createClass('<div class="footer_map"><div class="footer_map-title">ДоброДом | Строительство домов на УШП УФФ Тамбов</div><div class="footer_map-contacts">Город Тамбов <br>Телефон: 64-00-45 <br>E-mail: <a href="mailto:dobrodom68@gmail.com">dobrodom68@gmail.com</a></div></div>',{build:function(){this.constructor.superclass.build.call(this),this.element=this.getParentElement(document.querySelector(".footer_map")),this.applyElementOffset()},onSublayoutSizeChange:function(){t.superclass.onSublayoutSizeChange.apply(this,arguments),this.applyElementOffset(),this.events.fire("shapechange")},applyElementOffset:function(){this.element.querySelector(".footer_map").style.top=-this.element.querySelector(".footer_map").offsetHeight-20+"px"},getShape:function(){var e={left:this.element.offsetLeft,top:this.element.offsetTop};return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[e.left,e.top],[e.left,e.top-500]]))}}),o=window.myPlacemark=new ymaps.Placemark([52.779979,41.378292],{},{balloonShadow:!1,balloonLayout:t,hideIconOnBalloonOpen:!0}),n=e.controls.get("searchControl");n.options.set("placeholderContent","Тамбов, Мичуринская улица, 277");var r=ymaps.geolocation;r.get({mapStateAutoApply:!1,provider:"browser"}).then(function(t){var o=t.geoObjects.get(0).properties.get("text");t.geoObjects.get(0).properties.set({balloonContentBody:""}),e.geoObjects.add(t.geoObjects),e.controls.remove("searchControl"),e.controls.add("routePanelControl");var n=e.controls.get("routePanelControl");n.routePanel.state.set({from:o,to:"Тамбов, Мичуринская улица, 277"});var r=n.routePanel.getRouteAsync();r.then(function(e){e.options.set({routeActiveStrokeColor:"2b2a29",routeActiveStrokeWidth:8})},function(e){console.log(e)})},function(e){console.log("Ошибка: "+e)}),e.geoObjects.add(o),o.balloon.open()}ymaps.ready(t)});var n=document.querySelector("header.header"),a=document.querySelectorAll("header a"),q=document.querySelector(".header_menu-button"),_=document.querySelector(".header_menu-icon"),E=document.querySelector("nav"),L=function(){E.classList.toggle("active"),_.classList.toggle("active")},l=function(e){e.preventDefault();var t=document.querySelector(e.target.getAttribute("href")),o=document.documentElement.clientTop-(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)+n.getBoundingClientRect().height,r=t.getBoundingClientRect(),c=r.top-o;window._animate(function(e){window.scrollTo(0,(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)*(1-e)+e*c)})},x=function(){scrollY>0?n.style.backgroundColor="#2b2a29":n.style.backgroundColor="transparent"};x();for(var v=0;v<a.length;v++)a[v].addEventListener("click",l,!1),a[v].addEventListener("click",L,!1);q.addEventListener("click",L,!1),window.addEventListener("scroll",x,!1)});
//# sourceMappingURL=main.min.js.map
